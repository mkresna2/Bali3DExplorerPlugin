<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bali 3D Explorer - Sakala Resort</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- MapLibre GL CSS (compatible with Threebox) -->
    <link href="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.css" rel="stylesheet">
    <!-- Three.js (required by Threebox) -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script>
    <!-- Threebox CSS and JS -->
    <link href="https://unpkg.com/threebox-plugin/dist/threebox.css" rel="stylesheet">
    <script src="https://unpkg.com/threebox-plugin/dist/threebox.min.js"></script>
    
    <!-- MapLibre GL JS (compatible with Threebox) -->
    <script src="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.js"></script>
    
    <!-- Initialize the application -->
    <script>
        // Initialize app when ALL resources (including CSS) are loaded
        window.onload = function() {
            if (typeof initApp === 'function') {
                initApp();
            }
        };
    </script>
</head>
<body>
    <main>
        <aside class="destination-sidebar">
            <div class="search-container">
                <input type="text" placeholder="Search destinations...">
                <button class="search-btn" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"/></svg>
                </button>
            </div>
            
            <div class="categories">
                <h2>Categories</h2>
                <ul>
                    <li><a href="#featured" class="active">Featured Attractions</a></li>
                    <li><a href="#beaches">Top Beaches</a></li>
                    <li><a href="#beach-clubs">Beach Clubs</a></li>
                    <li><a href="#water-sports">Water Sports</a></li>
                    <li><a href="#cultural">Cultural Sites</a></li>
                    <li><a href="#cultural-experiences">Cultural Experiences</a></li>
                    <li><a href="#traditional-villages">Balinese Traditional Villages</a></li>
                </ul>
            </div>
            
            <div class="destination-list">
                <!-- Destination sections will be rendered dynamically by JS -->
            </div>
        </aside>
        
        <section class="map-container">
            <div id="map"></div>
            
            <div class="info-panel">
                <button class="close-btn" aria-label="Close">×</button>
                <div class="info-content">
                    <!-- Destination details will be loaded here -->
                </div>
            </div>
            
            <div class="map-controls">
                <!-- <button class="control-btn zoom-in" aria-label="Zoom in">+</button>
                <button class="control-btn zoom-out" aria-label="Zoom out">−</button> -->
                <button class="control-btn pan-up" aria-label="Pan up">↑</button>
                <button class="control-btn pan-down" aria-label="Pan down">↓</button>
                <button class="control-btn pan-left" aria-label="Pan left">←</button>
                <button class="control-btn pan-right" aria-label="Pan right">→</button>
                <button class="control-btn rotate" aria-label="Rotate">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></svg>
                </button>
                <button class="control-btn reset" aria-label="Reset view">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></svg>
                </button>
            </div>
        </section>
    </main>
    
    <script src="js/threebox-config.js"></script>
    <script src="js/three-config.js"></script>
    <script src="js/destinations.js"></script>
    <script src="js/ui-controls.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
