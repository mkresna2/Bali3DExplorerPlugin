<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bali 3D Explorer - Sakala Resort</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- MapLibre GL CSS (compatible with Threebox) -->
    <link href="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.css" rel="stylesheet">
    <!-- Three.js (required by Threebox) -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script>
    <!-- Threebox CSS and JS -->
    <link href="https://unpkg.com/threebox-plugin/dist/threebox.css" rel="stylesheet">
    <script src="https://unpkg.com/threebox-plugin/dist/threebox.min.js"></script>
    
    <!-- MapLibre GL JS (compatible with Threebox) -->
    <script src="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.js"></script>
    
    <!-- Initialize the application -->
    <script>
        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof initApp === 'function') {
                initApp();
            }
        });
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="assets/images/logo.png" alt="Bali 3D Explorer">
            <h1>Bali 3D Explorer</h1>
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="#" class="active">Explore</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </nav>
        <button class="mobile-menu-toggle" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </header>
    
    <main>
        <aside class="destination-sidebar">
            <div class="search-container">
                <input type="text" placeholder="Search destinations...">
                <button class="search-btn" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"/></svg>
                </button>
            </div>
            
            <div class="categories">
                <h2>Categories</h2>
                <ul>
                    <li><a href="#featured" class="active">Featured Attractions</a></li>
                    <li><a href="#beaches">Top Beaches</a></li>
                    <li><a href="#beach-clubs">Beach Clubs</a></li>
                    <li><a href="#water-sports">Water Sports</a></li>
                    <li><a href="#cultural">Cultural Sites</a></li>
                    <li><a href="#traditional-villages">Balinese Traditional Villages</a></li>
                </ul>
            </div>
            
            <div class="destination-list">
                <div class="category-section" id="featured">
                    <h3>Featured Attractions</h3>
                    <ul>
                        <li class="destination-item" data-id="sakala-resort">
                            <div class="destination-thumb" style="background-image: url('assets/images/sakala-resort.jpg');"></div>
                            <div class="destination-info">
                                <h4>Sakala Resort Bali</h4>
                                <p class="distance">Starting point</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="bali-cliff">
                            <div class="destination-thumb" style="background-image: url('assets/images/bali-cliff.jpg');"></div>
                            <div class="destination-info">
                                <h4>Bali Cliff</h4>
                                <p class="distance">35 min drive</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="uluwatu-temple">
                            <div class="destination-thumb" style="background-image: url('assets/images/uluwatu-temple.jpg');"></div>
                            <div class="destination-info">
                                <h4>Uluwatu Temple</h4>
                                <p class="distance">45 min drive</p>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="category-section" id="beaches">
                    <h3>Top Beaches</h3>
                    <ul></ul>
                </div>
                
                <div class="category-section" id="beach-clubs">
                    <h3>Beach Clubs</h3>
                    <ul>
                        <li class="destination-item" data-id="reef-beach-club">
                            <div class="destination-thumb" style="background-image: url('assets/images/reef-beach-club.jpg');"></div>
                            <div class="destination-info">
                                <h4>Reef Beach Club</h4>
                                <p class="distance">10 min drive</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="omnia-dayclub">
                            <div class="destination-thumb" style="background-image: url('assets/images/omnia-dayclub.jpg');"></div>
                            <div class="destination-info">
                                <h4>OMNIA Dayclub</h4>
                                <p class="distance">40 min drive</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="ulu-cliff-house">
                            <div class="destination-thumb" style="background-image: url('assets/images/ulu-cliff-house.jpg');"></div>
                            <div class="destination-info">
                                <h4>Ulu Cliff House</h4>
                                <p class="distance">50 min drive</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="sundays-beach-club">
                            <div class="destination-thumb" style="background-image: url('assets/images/sundays-beach-club.jpg');"></div>
                            <div class="destination-info">
                                <h4>Sundays Beach Club</h4>
                                <p class="distance">45 min drive</p>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="category-section" id="water-sports">
                    <h3>Water Sports</h3>
                    <ul>
                        <li class="destination-item" data-id="tanjung-benoa-watersports">
                            <div class="destination-thumb" style="background-image: url('assets/images/tanjung-benoa-watersports.jpg');"></div>
                            <div class="destination-info">
                                <h4>Tanjung Benoa Water Sports</h4>
                                <p class="distance">5 min drive</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="nusa-dua-watersports">
                            <div class="destination-thumb" style="background-image: url('assets/images/nusa-dua-watersports.jpg');"></div>
                            <div class="destination-info">
                                <h4>Nusa Dua Water Sports</h4>
                                <p class="distance">15 min drive</p>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="category-section" id="cultural">
                    <h3>Cultural Sites</h3>
                    <ul>
                        <li class="destination-item" data-id="museum-pasifika">
                            <div class="destination-thumb" style="background-image: url('assets/images/museum-pasifika.jpg');"></div>
                            <div class="destination-info">
                                <h4>Museum PASIFIKA</h4>
                                <p class="distance">15 min drive</p>
                            </div>
                        </li>
                        <li class="destination-item" data-id="caow-eng-bio-temple">
                            <div class="destination-thumb" style="background-image: url('assets/images/caow-eng-bio-temple.jpg');"></div>
                            <div class="destination-info">
                                <h4>Caow Eng Bio Temple</h4>
                                <p class="distance">10 min drive</p>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="category-section" id="traditional-villages">
                    <h3>Balinese Traditional Villages</h3>
                    <ul></ul>
                </div>
            </div>
        </aside>
        
        <section class="map-container">
            <div id="map"></div>
            
            <div class="info-panel">
                <button class="close-btn" aria-label="Close">×</button>
                <div class="info-content">
                    <!-- Destination details will be loaded here -->
                </div>
            </div>
            
            <div class="map-controls">
                <button class="control-btn zoom-in" aria-label="Zoom in">+</button>
                <button class="control-btn zoom-out" aria-label="Zoom out">−</button>
                <button class="control-btn pan-up" aria-label="Pan up">↑</button>
                <button class="control-btn pan-down" aria-label="Pan down">↓</button>
                <button class="control-btn pan-left" aria-label="Pan left">←</button>
                <button class="control-btn pan-right" aria-label="Pan right">→</button>
                <button class="control-btn rotate" aria-label="Rotate">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></svg>
                </button>
                <button class="control-btn reset" aria-label="Reset view">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></svg>
                </button>
            </div>
        </section>
    </main>
    
    <script src="js/threebox-config.js"></script>
    <script src="js/three-config.js"></script>
    <script src="js/destinations.js"></script>
    <script src="js/ui-controls.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
